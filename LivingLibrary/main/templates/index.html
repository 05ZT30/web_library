{% extends "main/base.html" %}
{% load static%}
{% block title %}主页{% endblock %}
{% block css %}
<link href="{% static 'css/index.css' %}" rel="stylesheet">
{% endblock%}
{% block content %}

<style type="text/css">
    .imgPreview {
        z-index: 9999;
        display: none;
        top: 0;
        left: 0;
        width: 100%;
        /*容器占满整个屏幕*/
        height: 100%;
        position: fixed;
        background: rgba(0, 0, 0, 0.5);
    }

    .imgPreview img {
        z-index: 9999;
        width: 60%;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    /* //添加鼠标移入图片效果
    .img {
        cursor: url("ico/放大镜.png"), auto;
    } */
</style>
<script type="text/javascript">
    $(function () {
        $('.img').on('click', function () {
            var src = $(this).attr('src');
            $('.imgPreview img').attr('src', src);
            $('.imgPreview').show()
        });
        $('.imgPreview').on('click', function () {
            $('.imgPreview').hide()
        });
    })
</script>

<div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="3"></li>
        <li data-target="#carouselExampleCaptions" data-slide-to="4"></li>

    </ol>
    <div class="carousel-inner">
        {% for p in pic%}
          {% if forloop.first %}
        <div class="carousel-item active">
            <img src=../../media/{{p.picture}} style="height:600px;" class="d-block w-100 img" alt="加载失败">
            <div class="imgPreview">
                <img src="#" alt="" id="imgPreview">
            </div>
            <div class="carousel-caption d-none d-md-block">
                <h5>{{p.title}}</h5>
                <!-- <p>Some representative placeholder content for the first slide.</p> -->
            </div>
        </div>
        {% else %}
        <div class="carousel-item">
            <img src=../../media/{{p.picture}} style="height:600px;" class="d-block w-100 img" alt="加载失败">
            <div class="imgPreview">
                <img src="#" alt="" id="imgPreview">
            </div>
            <div class="carousel-caption d-none d-md-block">
                <h5>{{p.title}}</h5>
                <!-- <p>Some representative placeholder content for the second slide.</p> -->
            </div>
        </div>
        {% endif %}
        {% endfor %}

    </div>
    <button class="carousel-control-prev" type="button" data-target="#carouselExampleCaptions" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-target="#carouselExampleCaptions" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </button>
</div>
</p>
<!-- <img src="../../media/roll/红船中的童年.jpg" style="height:600px;" class="d-block w-100 img" alt="加载失败">
<img src="../media/roll/红船中的童年.jpg" style="height:600px;" class="d-block w-100 img" alt="加载失败">
<img src="media/roll/红船中的童年.jpg" style="height:600px;" class="d-block w-100 img" alt="加载失败"> -->
<div id="news">
    <ul class="news1">
        <li class="news_title">
            <div>最新讲座信息</div>
        </li>
        {% for new in res %}
        <li class="news_items">
            <a href={% url 'detail' new.id %} target=" blank">{{new.title}}</a>
            <div style="float:right;">{{new.time|date:'Y-m-d'}}</div>
        </li>
        {% endfor %}


    </ul>
    <ul class="news2">
        <li class="news_title">
            <div>问题答案归档</div>
        </li>
        {% for new in res %}
        <li class="news_items">
            <a href="{{new.href}}" target="_blank">{{new.title}}</a>
            <div style="float:right;">{{new.time}}</div>
        </li>
        {% endfor %}
    </ul>
</div>


{% endblock %}
{% block js %}
<!-- <script src="{% static 'js/slider1.js' %}" type="text/javascript"></script> -->
<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
{% endblock %}